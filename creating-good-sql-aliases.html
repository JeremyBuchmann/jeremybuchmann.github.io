<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <title>Creating Good <span class="caps">SQL</span>&nbsp;Aliases - Jeremy Buchmann</title>
    <meta name="author" content="Jeremy Buchmann">


  <meta name="description" content="I was reviewing someone else’s code the other day and noticed something that has been bugging me ever since I learned SQL (a good 10+ years ago): bad SQL aliases. Let me start with some non-SQL code as an example. int a, b; string c; If you saw …">



    <link rel="stylesheet" href="https://jeremybuchmann.com/theme/css/main.css" type="text/css" />



    <link href="https://jeremybuchmann.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Jeremy Buchmann Atom Feed" />
</head>

<body>

    <div class="container">

      <header>
        <div class="feeds">
          <a href="https://jeremybuchmann.com/feeds/all.atom.xml" rel="alternate"><img src="https://jeremybuchmann.com/theme/images/icons/feed-32px.png" alt="atom feed"/></a>
        </div>
          <nav class="pages">
              <a href="https://jeremybuchmann.com/pages/about-me.html">About&nbsp;Me</a>
-              <a href="https://jeremybuchmann.com/pages/curriculum-vitae.html">Curriculum&nbsp;Vitae</a>
          </nav>
    <a href="https://jeremybuchmann.com" class="title">Jeremy Buchmann</a>
      </header>

      <div class="wrapper">

      <div role="main" class="content">
	<article class="full">
		
		<h1>Creating Good <span class="caps">SQL</span>&nbsp;Aliases</h1>
		
<div class="metadata">
  <time datetime="2012-06-16T21:15:00+02:00">Jun 16, 2012</time>
    <address class="vcard author">
      by <a class="url fn" href="https://jeremybuchmann.com/author/jeremy-buchmann.html">Jeremy Buchmann</a>
    </address>
  in <a href="https://jeremybuchmann.com/category/development.html">development</a>
</div>		
		<p>I was reviewing someone else&#8217;s code the other day and noticed something
that has been bugging me ever since I learned <span class="caps">SQL</span> (a good 10+ years
ago): bad <span class="caps">SQL</span> aliases.  Let me start with some non-<span class="caps">SQL</span> code as an&nbsp;example.</p>
<div class="highlight"><pre><span></span>int a, b;
string c;
</pre></div>


<p>If you saw this in a real-life program, you&#8217;d think that whoever wrote
it was either exceptionally lazy or didn&#8217;t know what they were doing. In
this day and age, you expect good variable names, even if they&#8217;re a bit&nbsp;long.</p>
<div class="highlight"><pre><span></span>int numEmployees, selectedEmployeeId;
string companyName;
</pre></div>


<p>Obviously, that&#8217;s much better. So why do I keep seeing <span class="caps">SQL</span> queries that
look like&nbsp;this:</p>
<div class="highlight"><pre><span></span>SELECT a.action,
       a.tstamp,
       b.fname,
       b.lname,
       c.fname,
       c.lname,
       d.fname,
       d.lname
FROM personnel_log a
  INNER JOIN users b ON a.target_id = b.id
  INNER JOIN users c ON a.modifier_id = c.id
  INNER JOIN users d ON a.approver_id = d.id
WHERE a.tstamp &gt; &#39;2012-06-16 00:00:00 UTC&#39;::TIMESTAMP WITH TIME ZONE
  AND c.lname ILIKE &#39;%smith%&#39;
  AND b.fname ILIKE &#39;%James%&#39;
ORDER BY d.lname, d.fname, a.tstamp
</pre></div>


<p>If you&#8217;re trying to figure out the meaning of the expressions in the
<span class="caps">SELECT</span> list or the <span class="caps">WHERE</span> clauses, you have to keep referring to the <span class="caps">JOIN</span>
sections to translate the a, b, c, and d aliases into their actual table
names. In small-ish queries such as this one, it&#8217;s not a huge deal, but
when the queries start getting up to 50 or 100 lines, it becomes a real
chore to track down each letter alias. Now look at the same query with
just a few more&nbsp;keystrokes:</p>
<div class="highlight"><pre><span></span>SELECT plog.action,
       plog.tstamp,
       employee.fname,
       employee.lname,
       modder.fname,
       modder.lname,
       approver.fname,
       approver.lname
FROM personnel_log plog
  INNER JOIN users employee ON plog.target_id = employee.id
  INNER JOIN users modder ON plog.modifier_id = modder.id
  INNER JOIN users approver ON plog.approver_id = approver.id
WHERE plog.tstamp &gt; &#39;2012-06-16 00:00:00 UTC&#39;::TIMESTAMP WITH TIME ZONE
  AND modder.lname ILIKE &#39;%smith%&#39;
  AND employee.fname ILIKE &#39;%James%&#39;
ORDER BY approver.lname, approver.fname, plog.tstamp
</pre></div>


<p>So much nicer! You know right away that the third <span class="caps">SELECT</span> expression is
the employee&#8217;s first name and that the first <span class="caps">ORDER</span> clause is the
approver&#8217;s last&nbsp;name.</p>
<p>An <span class="caps">SQL</span> alias is much like a variable name. The better the name, the
easier it is to figure out what the code is trying to&nbsp;do.</p>	

	</article>



      </div>

      <div class="sidebar">
        <div class="sidebar-container" >

                <aside>
                  <h2>About</h2>
          <p>
                    This is the website of Jeremy Buchmann, a Web developer in Eindhoven, Netherlands.
          </p>
        </aside>

  	          <nav>
                <h2>Categories</h2>
                <ul>
                    <li class="active"><a href="https://jeremybuchmann.com/category/development.html">development</a></li>
                    <li ><a href="https://jeremybuchmann.com/category/misc.html">misc</a></li>
                </ul>
              </nav>

                <aside>
                <h2>Social</h2>
          <ul class="social">
        <li><a href="https://twitter.com/jeremybuchmann">Twitter</a><i></i></li>
        <li><a href="https://www.linkedin.com/in/jeremybuchmann">LinkedIn</a><i></i></li>
        <li><a href="https://github.com/JeremyBuchmann">Github</a><i></i></li>
          </ul>
        </aside>

                <aside>
                  <h2>Foundation</h2>
                  <ul>
                      <li><a href="https://www.eindhoven.nl/">Live</a></li>
                      <li><a href="https://laurawetherington.com">Love</a></li>
                      <li><a href="https://www.coosto.com">Work</a></li>
                  </ul>
                </aside>
            </div>
      </div>

      </div>

      <footer>
    <p role="contentinfo">
      Jeremy Buchmann - Proudly powered by <a href="http://alexis.notmyidea.org/pelican/">pelican</a>. Theme <a href="https://github.com/fle/pelican-sober">pelican-sober</a>.
    	</p>

      </footer>

    </div>
</body>
</html>